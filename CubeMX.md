
# В STM32CubeMX при генерации кода все ваши изменения вне специальных секций могут быть затёрты при повторной генерации!

**Чтобы сохранить свою логику:**
- Вставляйте свой код только между комментариями вида:
  ```
  /* USER CODE BEGIN <section> */
  // ...ваш код...
  /* USER CODE END <section> */
  ```
- Например, для глобальных переменных используйте секцию:
  ```
  /* USER CODE BEGIN PV */
  // ваши глобальные переменные
  /* USER CODE END PV */
  ```
- Для функций и обработчиков — секции:
  ```
  /* USER CODE BEGIN 4 */
  // ваши функции, обработчики прерываний
  /* USER CODE END 4 */
  ```
- Для инициализации — секции:
  ```
  /* USER CODE BEGIN 2 */
  // ваша инициализация
  /* USER CODE END 2 */
  ```

**CubeMX при генерации кода не трогает содержимое между этими секциями!**
- Всё, что вне этих секций, может быть перезаписано.

**Рекомендация:**  
Перед генерацией кода в CubeMX всегда проверяйте, что ваша логика находится внутри секций USER CODE.

Если нужно — покажу пример, как именно вставить изменения для display_main_menu и обработчика прерывания!
